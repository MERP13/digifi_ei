{"pageProps":{"page":{"__metadata":{"id":"content/pages/blog/sobre-a-atualizacao-padrao-do-token-flow-ft-andand-nft.md","source":"sourcebit-source-filesystem","sourceName":"pages","sourcePath":"/Users/coflow/Desktop/digifi_ei/content/pages","relSourcePath":"blog/sobre-a-atualizacao-padrao-do-token-flow-ft-andand-nft.md","relProjectPath":"content/pages/blog/sobre-a-atualizacao-padrao-do-token-flow-ft-andand-nft.md","urlPath":"/blog/sobre-a-atualizacao-padrao-do-token-flow-ft-andand-nft","pageCssClasses":["page-blog","page-blog-sobre-a-atualizacao-padrao-do-token-flow-ft-andand-nft"]},"layout":"PostLayout","metaTitle":"Sobre a atualização padrão do token Flow FT & NFT","addTitleSuffix":true,"metaTags":[],"title":"Sobre a atualização padrão do token Flow FT && NFT","colors":"colors-a","date":"2022-12-25","excerpt":"O Flow Playground é uma plataforma online interativa que permite que os usuários aprendam sobre o desenvolvimento de aplicativos na plataforma Flow escrevendo e executando contratos e transações inteligentes em um ambiente de teste. A plataforma também fornece acesso à linguagem de programação Cadence, projetada para garantir que o código seja seguro e acessível. Além disso, a Flow está lançando o programa Flow Alpha, que oferece acesso exclusivo ao canal de Discord da plataforma, oportunidades de co-marketing e desenvolvimento de negócios com parceiros, bem como suporte para projetos qualificados em termos de captação de recursos e modelos de negócios. A plataforma também está lançando atualizações para o padrão NFT MetadataView e o contrato padrão de tokens fungíveis, que adicionam recursos de roteamento e informações de metadados para melhorar a integração de terceiros e a exibição de informações de token.","featuredImage":{"type":"ImageBlock","url":"/images/capas/Sobre a atualização padrão do token Flow FT & NFT diegofornalha.png","altText":"Sobre a atualização padrão do token Flow FT & NFT","caption":"","width":800,"height":450},"media":{"type":"ImageBlock","url":"/images/capas/Sobre a atualização padrão do token Flow FT & NFT diegofornalha.png","altText":"Sobre a atualização padrão do token Flow FT & NFT","caption":"O Flow Playground é uma plataforma online interativa que permite que os usuários aprendam sobre o desenvolvimento de aplicativos na plataforma Flow escrevendo e executando contratos e transações inteligentes em um ambiente de teste. A plataforma também fornece acesso à linguagem de programação Cadence, projetada para garantir que o código seja seguro e acessível. Além disso, a Flow está lançando o programa Flow Alpha, que oferece acesso exclusivo ao canal de Discord da plataforma, oportunidades de co-marketing e desenvolvimento de negócios com parceiros, bem como suporte para projetos qualificados em termos de captação de recursos e modelos de negócios. A plataforma também está lançando atualizações para o padrão NFT MetadataView e o contrato padrão de tokens fungíveis, que adicionam recursos de roteamento e informações de metadados para melhorar a integração de terceiros e a exibição de informações de token.","width":800,"height":450},"bottomSections":[],"metaDescription":"O Flow Playground é uma plataforma online interativa que permite que os usuários aprendam sobre o desenvolvimento de aplicativos na plataforma Flow escrevendo e executando contratos e transações inteligentes em um ambiente de teste. A plataforma também fornece acesso à linguagem de programação Cadence, projetada para garantir que o código seja seguro e acessível. Além disso, a Flow está lançando o programa Flow Alpha, que oferece acesso exclusivo ao canal de Discord da plataforma, oportunidades de co-marketing e desenvolvimento de negócios com parceiros, bem como suporte para projetos qualificados em termos de captação de recursos e modelos de negócios. A plataforma também está lançando atualizações para o padrão NFT MetadataView e o contrato padrão de tokens fungíveis, que adicionam recursos de roteamento e informações de metadados para melhorar a integração de terceiros e a exibição de informações de token.","socialImage":"/images/capas/Sobre a atualização padrão do token Flow FT & NFT diegofornalha.png","author":null,"markdown_content":"Faz 11 meses desde que o último padrão NFT MetadataView foi lançado. Tokens fungíveis da flow inerentes ao [Padrão MetadataView](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenMetadataViews.cdc), embora ainda esteja em fase de teste, podemos esperar a adoção formal do padrão. Esta atualização não apenas nos traz a `MetadataView` contrato padrão de tokens fungíveis.\nO FungibleTokenSwitchboard pode implementar uma coleção geral de recursos do Receiver para resolver o NFTMetadataView anterior [Realeza](https://github.com/onflow/flow-nft/blob/master/contracts/MetadataViews.cdc#L295) problema de configuração.\n\nEssa atualização também é realizada de maneira baixa, com modificações no contrato padrão, e a ideia geral de design é a mesma que a do NFTMetadataViews. Para mais detalhes sobre o NFTMetadataViews, você pode ir [aqui](https://caos.me/cadence-nft-metadataviews) leia o artigo de introdução que escrevi anteriormente e [este](https://caos.me/flow-ft-nft) é sobre a prática de design e explicação da Flow NFT e FT.\nEste artigo será apresentado e explicado de acordo com duas grandes atualizações do contrato padrão do Financial Times.\n\nPontos principais:\n\n*   Essas atualizações são implantadas apenas na rede de teste e os novos recursos precisam ser suportados por um novo spork.\n\n*   O contrato FT existente não força as atualizações, você pode optar por não atualizar, o que não afetará o uso normal.\n\n*   Os recursos do Vault que foram inicializados pelo usuário não precisam ser reinicializados. Se a implementação do contrato atualizar a função, os recursos que foram inicializados pelo usuário serão herdados automaticamente.\n\n*   Além das informações básicas do Financial Times, também serão incluídas informações sobre recursos e tipos de informações. ( Acho que está em preparação para a exibição de agregação de informações na cadeia )\n\n*   Semelhante ao NFTMetadataView, o FTMetadataView também tem a capacidade de exibir `type`\n\n    extensões para suportar mais tipos de metadados no futuro.\n\n*   O FungibleTokenSwitchboard, como um recurso de roteamento adicional, preserva os recursos do FT Receiver na conta do usuário e pode receber vários tipos de token FT através de um recurso como roteador.\n\n### **Views de dados do fungibleTokenMetadata**\n\n[FungibleTokenMetadataViews.cdc](https://caos.me/flow-ft-nft) depende `FungibleToken` e `MetadataViews`\n\nO `FTView` estrutura é definida, incluindo `FTDisplay` e `FTVaultData`\n\n*   [FTDisplay](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenMetadataViews.cdc#L50)\n\n    contém as informações, como nomes, símbolos, descrições, links externos, links de logotipo e alguns links de contas sociais necessários para a exibição do FT, que podem ser entendidos como as informações básicas do Token.\n\n*   [FTVaultData](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenMetadataViews.cdc#L112)[função](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenMetadataViews.cdc#LL140C17-L140C33) `createEmptyVault`\n\n    isso contém as informações de recursos do FTVault e algumas informações de tipo da interface, além de uma inicialização\n\n    para criar Vault.\n\nDo ponto de vista da implementação, `FTDisplay` foi projetado para enriquecer as informações básicas na cadeia do FungibleToken, enquanto `FTVaultData` foi projetado para facilitar a integração de terceiros para integrar o Token on-chain. Vários tipos de `FungibleToken` pode ser compatível com o padrão `MetadataViews` interface.\n\nObviamente, a premissa dessa suposição é que `FungibleToken` implementou as interfaces necessárias de `MetadataViews`.\nVamos ver o que [mudanças e atualizações](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleToken.cdc#LL136-L147C10) foram feitos para `FungibleToken`\n\n```\npub fun getViews(): [Type] {\n     return []\n   }\npub fun resolveView(_ view: Type): AnyStruct? {\n    return nil\n  }\n```\n\nDe fato, `FungibleToken` apenas adiciona `getViews` e `resolveView` funções para o existente `Balance` interface e retorna o tipo de opcional.\nA dependência do contrato recém-adicionada não é introduzida aqui, mas é introduzida em [ExampleToken](https://github.com/onflow/flow-ft/blob/master/contracts/ExampleToken.cdc#L3) do exemplo:\n\n> Nota: as alterações do FungibleToken são ligeiramente diferentes aqui. Devido à adição da função de implementação no tipo de interface Balance, ela causará problemas com os recursos existentes que herdam o FungibleToken. Saldo na rede. ( normalmente falando, um contrato que herda o FungibleToken.Balance, mas não implementa getViews e o resolveView, não pode ser implantado corretamente. )\n> Durante uma discussão com o B.T. Wood, ele me disse uma atualização recente do Cadence, se você herdar os recursos da interface, mesmo que não implemente os métodos definidos pela interface. O Cadence usará o método padrão da própria interface, para que os problemas acima não ocorram. Esse recurso será atualizado no futuro spork.\n\nEssas duas novas interfaces são implementadas em [Vault](https://github.com/onflow/flow-ft/blob/master/contracts/ExampleToken.cdc#L100) recurso:\n\n```\n pub fun getViews(): [Type]{\n     return [Type<FungibleTokenMetadataViews.FTView>(),\n        Type<FungibleTokenMetadataViews.FTDisplay>(),\n        Type<FungibleTokenMetadataViews.FTVaultData>()]\n        }\n```\n\nTrês tipos de estruturas, `FTView`, incluir `FTDisplay` e `FTVaultData`, são definidos.\nApós a atualização, podemos chamar diretamente getViews na interface Balance existente do FungibleToken para obter os tipos atuais de MetadataView suportados pelo Token e obter informações específicas sobre Metadados por meio de `resolveView`.\n\nEssa estrutura de código não apenas atinge o efeito de compatibilidade com versões anteriores, mas também atende ao requisito de adicionar dinamicamente tipos de metadados de acordo com as necessidades no futuro. Podemos enriquecer os metadados da cadeia do FT estendendo os tipos suportados pelo FungibleTokenMetadataViews.\n\n### **Painel fungível**\n\nPodemos pensar em `FungibleTokenSwitchboard` como um recurso de roteamento agregado em uma conta. Implementa a interface de `FungibleToken.Receiver` e atua como uma coleção universal no padrão. Através do `receiverCapabilities` nos recursos, o `Receiver` de `Vault` na conta do usuário pode ser salvo e encaminhado para o correspondente `Receiver` com apenas um caminho.\n`receiverCapabilities` é definido no `Switchboard` recurso para agregar os recursos de coleta de `FungibleToken`:\n\n```\n pub resource Switchboard: FungibleToken.Receiver, SwitchboardPublic {\n        access(contract) var receiverCapabilities: {Type: Capability<&{FungibleToken.Receiver}>}\n        //....\n}\n```\n\n`receiverCapabilities` leva `Type` como a chave e o recibo `Capability` de `Vault` como valor, esse é o núcleo da coleta de roteamento\n\nAo mesmo tempo, fornece uma maneira de gerenciar rotas:\n\n*   [addNewVault](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenSwitchboard.cdc#L61)`VaultSwitchboardCapability`\n\n    Adicione um novo\n\n    rota para\n\n    via\n\n*   [addNewVaultsByPath](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenSwitchboard.cdc#L88)`Switchboard`\n\n    Adicionar lote a\n\n    através da matriz de caminhos de recursos\n\n*   [removeVault](https://github.com/onflow/flow-ft/blob/master/contracts/FungibleTokenSwitchboard.cdc#L120)\n\n    remover\n\nPorque `Switchboard` herda `FungibleToken.Receiver`, o `deposit`  a função precisa ser implementada.\n\n```\n  pub fun deposit(from: @FungibleToken.Vault) {\n            // Get the capability from the ones stored at the switchboard\n            let depositedVaultCapability = self\n                .receiverCapabilities[from.getType()]\n                ?? panic (\"The deposited vault is not available on this switchboard\")\n            // Borrow the reference to the desired vault\n            let vaultRef = depositedVaultCapability.borrow()\n                ?? panic (\"Can not borrow a reference to the the vault\")\n            vaultRef.deposit(from: <-from)\n        }\n```\n\nEssa função de depósito implementa uma função de encaminhar depósitos e direciona a coleta para os recursos específicos na configuração. Também podemos ver que se o valor correspondente de `receiverCapabilities` não é encontrado aqui, o programa Panic fará com que a transação do depósito falhe.\nPara conveniência de terceiros, o tipo de interface de `SwitchboardPublic` é definido e três funções são definidas:\n\n*   `getVaultTypesVault`\n\n    pegue o\n\n    tipos que suportam recepção\n\n*   depósito como menção berfore\n\n*   a função de depósito seguro `safeDeposit@FungibleToken.Vault`\n\n    não causa pânico, mesmo que falhe, mas retorna o\n\n    recurso\n\n*   igual a `Deposit@FungibleToken.Vault`\n\n    , recebendo\n\n    recurso\n\n*   primeiro determinará se `receiverCapabilities`\n\n    possui um recurso de recebimento configurado para o recurso correspondente.\n\n*   se não for encontrado e o valor do depósito for maior que zero, o evento de falha do depósito será acionado e a entrada `@ FungibleToken.Vault`\n\n    recurso será retornado.\n\n*   caso contrário, destrua os recursos de recarga diretamente e retorne `nil`\n\n```\n pub fun safeDeposit(from: @FungibleToken.Vault): @FungibleToken.Vault? {\n            // Try to get the proper vault capability from the switchboard\n            // If the desired vault is present on the switchboard...\n            if let depositedVaultCapability = self\n                                        .receiverCapabilities[from.getType()] {\n                // We try to borrow a reference to the vault from the capability\n                // If we can borrow a reference to the vault...\n                if let vaultRef =  depositedVaultCapability.borrow() {\n                    // We deposit the funds on said vault\n                    vaultRef.deposit(from: <-from.withdraw(amount: from.balance))\n                }\n            }\n            // if deposit failed for some reason\n            if from.balance > 0.0 {\n                emit NotCompletedDeposit(type: from.getType(),\n                                        amount: from.balance,\n                                        switchboardOwner: self.owner?.address)\n                return <-from\n            }\n            destroy from\n            return nil\n        }\n```\n\nEm suma, o `Switchboard` O recurso, como recurso de roteamento de terceiros, fornece um método geral de coleta para os usuários, para que a configuração de royalties de [Realeza](https://github.com/onflow/flow-nft/blob/master/contracts/MetadataViews.cdc#L303) no anterior `NFTMetadataViews` pode receber uma variedade de ativos de FT.\nDo ponto de vista do aplicativo, desenvolvedores ou portais de carteira de terceiros ainda precisam integrar e introduzir novos contratos, o que facilita a configuração e o gerenciamento manual dos recursos `Switchboard`.\n\n### **NFT tomnFTSAfe**\n\nAliás, o contrato padrão da NFT também foi lançado [atualização](https://github.com/onflow/flow-nft/pull/134/files#diff-4e93b23f7c8514483d20602dba0f78dbfefb333851b4b7b0255e686de35373f6R143), adicionou uma função emprestNFTSafe à interface de recursos da NFT `CollectionPublic` para evitar erros na execução do script devido à falha em encontrar a NFT do ID específico na conta durante a execução do script de consulta.\nMelhore a experiência de consulta e desenvolvimento dos desenvolvedores.\n\n### **Resumo**\n\nEsta atualização ainda está no estágio de [Implantação de rede de teste](https://testnet.flowscan.org/account/0x9a0766d93b6608b7), onde os desenvolvedores podem experimentar os recursos de novos padrões e novos contratos. Após o futuro spork da rede principal, esses novos códigos serão implantados. Em seguida, o FT poderá consultar o Metadata on-chain, e os editores originais do FT poderão implementar novas funções e atualizar seus contratos de acordo com o exemplo do projeto do FT.\n\nDessa forma, os produtos de catálogo que suportam o FT não devem estar longe.\n"},"site":{"__metadata":{"id":"content/data/config.json","source":"sourcebit-source-filesystem","sourceName":"data","sourcePath":"/Users/coflow/Desktop/digifi_ei/content/data","relSourcePath":"config.json","relProjectPath":"content/data/config.json"},"type":"Config","header":{"headerVariant":"variant-b","isSticky":true,"primaryColors":"colors-b","secondaryColors":"colors-d","isTitleVisible":false,"primaryLinks":[{"type":"Link","label":"Home","altText":"Inicio","url":"/","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"DropdownLink","label":"About","dropdownLinks":[{"type":"Link","label":"Curso Cadence","url":"/curso","altText":"Curso Cadence"},{"type":"Link","label":"Blog","altText":"Blog","url":"/blog","showIcon":true,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"Link","label":"Learn More","altText":"","url":"/curso","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""}]},{"type":"DropdownLink","label":"Volunteers","dropdownLinks":[{"type":"Link","label":"2023","altText":"Link to 2023 team's page","url":"/registro/2023","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"Link","label":"Advocates","altText":"Advocates","url":"https://flow.coflow.com.br/flow-brasil-embaixador-aprendiz/","showIcon":true,"icon":"arrowRight","iconPosition":"right","elementId":""}]},{"type":"DropdownLink","label":"Partnerships","altText":"Parcerias","dropdownLinks":[{"type":"Link","label":"GeekHunter","altText":"Recurtamento e Seleção","url":"/2023/janeiro/parcerias/geekhunter/","showIcon":true,"icon":"arrowRight","iconPosition":"left","elementId":""},{"type":"Link","label":"News","altText":"Novidades","url":"/2023/janeiro/news","showIcon":true,"icon":"arrowRight","iconPosition":"right","elementId":""}]},{"type":"Link","label":"Blog ","altText":"Blog","url":"/blog","showIcon":true,"icon":"arrowRightCircle","iconPosition":"left","elementId":""}],"secondaryLinks":[{"type":"Button","label":"Join Discord","altText":"Entrar no Discord","style":"secondary","url":"https://discord.com/invite/hT8EpC5mUN","showIcon":true,"icon":"cart","iconPosition":"right","elementId":""}],"styles":{"self":{"width":"wide","padding":["pl-5","pt-5","pb-5","pr-5"]}},"logo":{"type":"ImageBlock","url":"/images/padrao/flow-coflow-logo.png","altText":"CoFlow Logo","caption":"CoFlow","width":114,"height":48,"elementId":""},"title":"CoFlow"},"footer":{"variant":"variant-b","colors":"colors-b","contacts":{"addressAltText":"Our address"},"copyrightText":"CoFlow","primaryLinks":[{"type":"Link","label":"Home","url":"/","altText":"Home"},{"type":"Link","label":"Contact Us","altText":"Contact Us","url":"https://wa.me/5521997806363?text=Ol%C3%A1","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"Link","label":"CURSO CADENCE","altText":"CURSO CADENCE","url":"/curso","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"Link","label":"TERMO DE USO","altText":"TERMO DE USO","url":"/termo-de-uso","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""},{"type":"Link","label":"POLÍTICA DE PRIVACIDADE","altText":"POLÍTICA DE PRIVACIDADE","url":"/politica-de-privacidade","showIcon":false,"icon":"arrowRight","iconPosition":"right","elementId":""}],"socialLinks":[{"type":"Social","label":"Email","altText":"","url":"mailto:diegofornalha@gmail.com","icon":"mail","style":"link","elementId":""},{"type":"Social","altText":"Instagram","label":"Instagram","url":"http://www.instagram.com/diegofornalha","icon":"instagram"},{"type":"Social","altText":"Linkedin","label":"Linkedin","url":"https://www.github.com/diegofornalha","icon":"github"},{"type":"Social","label":"Youtube","altText":"Youtube","icon":"youtube","style":"link","elementId":"","url":"https://www.youtube.com/diegofornalha"},{"type":"Social","altText":"Twitter","label":"Twitter","url":"https://twitter.com/diegofornalha","icon":"twitter"},{"type":"Social","label":"Linkedin","altText":"Linkedin","url":"https://linkedin.com/in/diegofornalha","icon":"linkedin","style":"link","elementId":""}],"styles":{"self":{"width":"narrow"}},"logo":{"type":"ImageBlock","url":"/images/padrao/flow-coflow-logo.png","altText":"CoFlow Logo","caption":"CoFlow Logo","width":114,"height":48,"elementId":""}},"defaultMetaTags":[{"type":"MetaTag","property":"og:title","content":"CoFlow"}],"titleSuffix":"Coflow","env":{}}},"__N_SSG":true}